const fs = require('fs');
const path = require('path');

const исключеннаяПапка = 'node_modules';

/**
 * Функция для рекурсивного вывода структуры каталога.
 * @param {string} каталогПуть - путь к текущему каталогу
 * @param {string} отступ - строка отступа для визуализации иерархии
 */
function вывестиСтруктуру(каталогПуть, отступ = '') {
    // Считываем содержимое каталога
    const элементы = fs.readdirSync(каталогПуть, { withFileTypes: true });

    for (const элемент of элементы) {
        // Пропускаем папку node_modules
        if (элемент.name === исключеннаяПапка) {
            continue;
        }

        const полныйПуть = path.join(каталогПуть, элемент.name);

        if (элемент.isDirectory()) {
            console.log(`${отступ}Папка: ${элемент.name}`);
            // Рекурсивно заходим в папку
            вывестиСтруктуру(полныйПуть, отступ + '  ');
        } else {
            console.log(`${отступ}Файл: ${элемент.name}`);
        }
    }
}

// Запускаем обход с текущего каталога
const текущийКаталог = process.cwd();
console.log('Структура проекта (без node_modules):');
вывестиСтруктуру(текущийКаталог);
